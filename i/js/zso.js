			var jsonMso=
			[
				{
					"msoType":"常用",
					"msoName":[
						"百度",
						"搜狗",
						"360so",
						"必应",
						"微博",
						"微信",
						"知乎",
						"Google.",
						],
					"msoLink":[
						"https://www.baidu.com/s?wd=moulem",
						"https://www.sogou.com/web?query=moulem",
						"https://www.so.com/s?q=moulem",
						"https://cn.bing.com/search?q=moulem",
						"https://s.weibo.com/weibo/moulem",
						"https://weixin.sogou.com/weixin?type=2&query=moulem",
						"https://zhihu.sogou.com/zhihu?p=40351207&ie=utf8&query=moulem",
						"https://www.google.com/search?q=moulem",
						],
				},
				
				{
					"msoType":"购物",
					"msoName":[
						"淘宝",
						"京东",
						"唯品会",
						"拼多多",
						"考拉",
						"严选",
						"SMZDM",
						],
					"msoLink":[
						"https://s.taobao.com/search?q=moulem",						
						"https://search.jd.com/Search?keyword=moulem&enc=utf-8",
						"https://category.vip.com/suggest.php?keyword=moulem",
						"https://mobile.yangkeduo.com/search_result.html?search_key=moulem",
						"https://search.kaola.com/search.html?key=moulem",
						"https://you.163.com/search?keyword=moulem",
						"https://search.smzdm.com/?c=home&s=moulem",				
						],

				},
				
				{
					"msoType":"图片",
					"msoName":[
						"百度图片",						
						"搜狗图片",
						"360搜图",
						"花瓣",
						"站酷",
						"谷歌图片.",
						],
					"msoLink":[
						"https://image.baidu.com/search/index?tn=baiduimage&ie=utf-8&word=moulem",
						"https://pic.sogou.com/pics?query=moulem",
						"https://image.so.com/i?q=moulem",
						"https://huaban.com/search/?q=moulem",
						"https://www.zcool.com.cn/search/content?&word=moulem",
						"https://www.google.com/search?tbm=isch&q=moulem",
						],
				},
				
				{
					"msoType":"图库",
					"msoName":[
						"Pixabay",
						"Pexels-",
						"Unsplash.",
						"Piqsels",
						"Vhunt-",
						"foter",
						"Fphotos.",
						"stockup.",
						],
					"msoLink":[
						"https://pixabay.com/zh/images/search/moulem",
						"https://www.pexels.com/search/moulem",
						"https://unsplash.com/search/photos/moulem",
						"https://www.piqsels.com/zh/search?q=moulem",
						"https://visualhunt.com/search/instant/?q=moulem",
						"https://foter.com/search/instant/?q=moulem",
						"https://freephotos.cc/zh/moulem",
						"https://www.sitebuilderreport.com/stock-up#q=moulem",
						],
				},
				
				{
					"msoType":"素材",
					"msoName":[
						"freepik",
						"uicloud-",
						"365psd",
						"sccnn.",
						"easyicon",
						"iconfont.",
						"iconni.",
						],
					"msoLink":[
						"https://www.freepik.com/index.php?goto=2&searchform=1&k=moulem",
						"http://ui-cloud.com/search/moulem",
						"https://cn.365psd.com/search/moulem",
						"http://so.sccnn.com/search/moulem",
						"https://www.easyicon.net/iconsearch/moulem",
						"https://www.iconfont.cn/search/index?searchType=icon&q=moulem",
						"http://www.iconninja.com/tag/moulem-icon",
						],
				},
				
				{
					"msoType":"商图",
					"msoName":[						
						"Veer",
						"500px",
						"全景",
						"VCG.",
						"海洛",
						],
					"msoLink":[
						"https://www.veer.com/query/image/?phrase=moulem",
						"https://500px.me/community/search?key=moulem",
						"https://www.quanjing.com/search.aspx?q=moulem",
						"https://www.vcg.com/creative/search?&phrase=moulem",
						"https://www.hellorf.com/image/search?q=moulem",
						"",
						"",
						"",
						],

				},
				
				{
					"msoType":"视频",
					"msoName":[
						"腾讯视频",
						"爱奇艺",
						"优酷",
						"Bilibili",
						"搜狐视频",
						"芒果Tv",
						"乐视.",
						"百度视频",
						],
					"msoLink":[
						"https://v.qq.com/x/search/?q=moulem",
						"https://so.iqiyi.com/so/q_moulem",
						"https://so.youku.com/search_video/q_moulem",
						"https://search.bilibili.com/all?keyword=moulem",
						"https://so.tv.sohu.com/mts?box=1&wd=moulem",
						"https://so.mgtv.com/so/k-moulem",
						"http://so.le.com/s?wd==moulem",
						"https://www.baidu.com/sf/vsearch?pd=video&tn=vsearch&ie=utf-8&wd=moulem",
						],
				},
				
				{
					"msoType":"音乐",
					"msoName":[
						"酷狗",	
						"酷我.",					
						"云音乐.",
						"QQ音乐.",
						"虾米.",
						"千千音乐",	
						"音乐Tai.",
						"墨灵音乐."
						],
					"msoLink":[						
						
						"https://www.kugou.com/yy/html/search.html#searchType=song&searchKeyWord=moulem",
						"http://sou.kuwo.cn/ws/NSearch?type=all&catalog=yueku20177&key=moulem",						
						"https://music.163.com/#/search/m/?s=moulem",
						"https://y.qq.com/portal/search.html#page=1&searchid=1&w=moulem",
						"https://www.xiami.com/search?key=moulem",
						"https://music.taihe.com/search?key=moulem",
						"http://so.yinyuetai.com/?keyword=moulem",
						"https://music.mli.im/music.web?auto-action=true&action=search&wd=moulem"
						],
				},
				
				{
					"msoType":"影视",
					"msoName":[
						"Neets",
						"Soopian",
						"磁力猫",
						"茶杯狐",
						"Ok资源",
						"MP4ba.",
						],
					"msoLink":[						
						"https://neets.cc/search?key=moulem",
						"https://secr.soopian.com/?v=moulem",
						"https://www.cilimao.life/search?word=moulem",
						"https://www.cupfox.com/?type=video&key=moulem",
						"https://www.okzy.co/index.php?m=vod-search&wd=moulem",
						"http://www.mp4ba.com/index.php?m=search&c=index&a=init&modelid=1&q=moulem",
						],

				},
				
				{
					"msoType":"网盘",
					"msoName":[
						"小白盘",
						"fastsoso.",
						"磁力猫",
						"小不点",
						"胖次",
						"56网盘",			
						"天天云搜",
						],
					"msoLink":[						
						"https://www.xiaobaipan.com/list-moulem.html?from=1",
						"http://www.fastsoso.cn/search?k=moulem",
						"https://www.cilimao.life/search?word=moulem",
						"https://www.xiaobd.net/m/search?wd=moulem",
						"https://www.panc.cc/s/moulem",
						"https://www.56wangpan.com/search/kwmoulem",
						"https://www.ttyunsou.com/s?keyword=moulem",
						"https://pan.09l.me/search/c/moulem/1.html",
						],

				},

				{
					"msoType":"工具",
					"msoName":[
						"快递",						
						"IP.",						
						"爱站.",
						"二维码",
						"词典",
						"中译英",
						"英译中",
						],
					"msoLink":[
						"https://m.kuaidi100.com/result.jsp?nu=moulem",					
						"http://www.ip138.com/ips138.asp?ip=moulem",
						"https://www.aizhan.com/cha/moulem",
						"http://qr.liantu.com/api.php?text=moulem",
						"https://dict.baidu.com/s?wd=moulem",					
						"https://fanyi.sogou.com/#zh-CHS/en/moulem",					
						"https://fanyi.sogou.com/#en/zh-CHS/moulem",					
						],
				},

				{
					"msoType":"学术",
					"msoName":[						
						"百度学术",
						"必应学术",
						"谷歌学术.",
						"Sci镜像",
						"Cnki.",
						"万方.",			
						"OAlib.",
						"Springer",
						],
					"msoLink":[
						"https://xueshu.baidu.com/s?wd=moulem",
						"https://cn.bing.com/academic/search?q=moulem",
						"https://scholar.google.com.hk/scholar?q=moulem",
						"https://s2.sci-hub.org.cn//scholar?hl=zh-CN&q=moulem",
						"http://scholar.cnki.net/result.aspx?q=moulem",
						"http://www.wanfangdata.com.cn/search/searchList.do?searchType=all&showType=&pageSize=&searchWord=moulem",
						"http://www.oalib.com/search?kw=moulem",
						"https://link.springer.com/search?query=moulem",
						],
				},

			]

			var oMsoType=document.getElementById('msoType');
			var oMsoBtnBox=document.getElementById('msoBtnBox');
			var oMsoInput=document.getElementById('msoInput');
			var oMoulemSearchBox=document.getElementById('moulemSearchBox');
			var oMoulemSearch=document.getElementById('moulemSearch');
			var oAGet=oMsoBtnBox.getElementsByTagName('a');
			//toWritMso			
			function toWritMso(type)
			{
				oMsoBtnBox.innerHTML="";
				oMsoType.innerHTML=jsonMso[type].msoType+'▾'
				for(var i=0;i<jsonMso[type].msoName.length;i++)
				{			
					var oA=document.createElement('a');
					oA.className="canMoviLi";
					oA.innerHTML=jsonMso[type].msoName[i];
					oA.href="javascript:void(0)";					
					oA.dataset.link=jsonMso[type].msoLink[i];					
					oMsoBtnBox.appendChild(oA)

				}
				oAGet[0].className="msoBtnBoxNowA";
				for(i=0;i<oAGet.length;i++)
				{
					oAGet[i].onmousedown=function(ev)
					{
						var aText=this.innerText;
						var aLink=this.dataset.link.replace("moulem",oMsoInput.value.replace(/%/g, "%25").replace(/#/g, "%23").replace(/\+/g, "%2B").replace(/\&/g, "%26"));						
						var oEvent=ev || event;

						if (oMsoInput.value.length < 1) {
							return false;
						}
						$("#msoBtnBox a").removeClass();
						this.className="msoBtnBoxNowA";

						if (oEvent.button == 0)//鼠标左键按下
						{
							if (aText.search(/\./g)!=-1 || aLink.search(/https/g)==-1)
							{
								this.target="_blank";
								this.href=this.dataset.link.replace("moulem",oMsoInput.value.replace(/%/g, "%25").replace(/#/g, "%23").replace(/\+/g, "%2B").replace(/\&/g, "%26"));
							}
							else
							{
								window.scrollTo(0,0);
								$("#moulemBody")[0].style.overflow="hidden";
								oMoulemSearchBox.style.display="block";																
								oMsoBigBoxLine1.style.display="none";
								this.href="javascript:void(0)";

								oMoulemSearch.src=this.dataset.link.replace("moulem", oMsoInput.value.replace(/%/g, "%25").replace(/#/g, "%23").replace(/\+/g, "%2B").replace(/\&/g, "%26"));
							}
						}
						else if (oEvent.button == 1)//鼠标中键按下
						{
							this.href=this.dataset.link.replace("moulem", oMsoInput.value.replace(/%/g, "%25").replace(/#/g, "%23").replace(/\+/g, "%2B").replace(/\&/g, "%26"));
						}
						else//鼠标右键按下
						{
		　　				this.href=this.dataset.link.replace("moulem", oMsoInput.value.replace(/%/g, "%25").replace(/#/g, "%23").replace(/\+/g, "%2B").replace(/\&/g, "%26"));
						}		
					}
				}
			}
			var nowMsoType=0;
			if (window.localStorage.getItem("nowMsoType") && jsonMso[window.localStorage.getItem("nowMsoType")])
			{
				nowMsoType=window.localStorage.getItem("nowMsoType");
			}
			else
			{
				window.localStorage.setItem('nowMsoType','0');
				var nowMsoType=0;				
			}
			toWritMso(nowMsoType);
			var oMsoChangeBox=document.getElementById('msoChangeBox');
			var oMsoChangeBoxLi=oMsoChangeBox.getElementsByTagName('li');
			oMsoType.onclick=function(ev)
			{
				if(oMsoChangeBox.style.display != "block")
				{
					oMsoChangeBox.style.display="block";
					for (var r = 0;r<30; r++)
					{
						if (jsonMso[r])
						{						
							var oLi=document.createElement('li');
							oLi.innerHTML=jsonMso[r].msoType;					
							oMsoChangeBox.appendChild(oLi);
						}	
					}
				}
				else
				{
					oMsoChangeBox.style.display="none";
					oMsoChangeBox.innerHTML=""
				}
					for(var j=0;j<oMsoChangeBoxLi.length;j++)
					{
						oMsoChangeBoxLi[j].index=j
						oMsoChangeBoxLi[j].onclick=function()
						{
							toWritMso(this.index);
							nowMsoType=this.index;
							oMsoChangeBox.style.display='none';
							oMsoChangeBox.innerHTML="";
							window.localStorage.setItem('nowMsoType',nowMsoType);							
						}
					}
				oMsoBigBoxLine1.style.display="none";
				var oEvent=ev || event;
                oEvent.cancelBubble=true;
			}
			//msoBigBoxLine
			//定时200
			$.fn.hoverDelay = function(options){ 
			var defaults = { 
			hoverDuring: 200, 
			outDuring: 200, 
			hoverEvent: function(){ 
			$.noop(); 
			}, 
			outEvent: function(){ 
			$.noop(); 
			} 
			}; 
			var sets = $.extend(defaults,options || {}); 
			var hoverTimer, outTimer; 
			return $(this).each(function(){ 
			$(this).hover(function(){ 
			clearTimeout(outTimer); 
			hoverTimer = setTimeout(sets.hoverEvent, sets.hoverDuring); 
			},function(){ 
			clearTimeout(hoverTimer); 
			outTimer = setTimeout(sets.outEvent, sets.outDuring); 
			}); 
			}); 
			} 
			//
			var oMsoBigBox=document.getElementById('msoBigBox');
			var oMsoBigBoxLine0=document.getElementById('msoBigBoxLine0');
			var oMsoBigBoxLine1=document.getElementById('msoBigBoxLine1');

/*			$('#msoBigBoxLine0').hoverDelay({ 
			hoverEvent: function(){ 
				$("#msoBigBox").fadeIn(300);
				if(oMsoInput.value.length ==0)
				{
					oMsoInput.value=$("#search").val();
					oMsoInput.focus();
				}
		        $(".scBigBox").animate({
		            height:0,
		        },500,function(){
		            $(".scBigBox").css({"display":"none",height:0});
		        });
			} 
			}); 
			oMsoBigBoxLine1.onmouseout=function()
			{
				if(oMsoInput.value && oMsoInput.value != $("#search").val())
				{
					
				}
				else
				{					
					$("#msoBigBox").fadeOut(300)
				}
			}
*/
			//msoLock
			var oMsoLock=document.getElementById('msoLock');
			if(window.localStorage.getItem("msoLock")!="lock")
			{
				window.localStorage.setItem('msoLock','notLock');
				oMsoLock.src="imgs/msoNotLocked.png";
				oMsoBigBoxLine1.style.display="block";
				oMsoBigBox.style.display="none";
			}
			else
			{				
				oMsoLock.src="imgs/msoLocked.png";
				oMsoBigBoxLine1.style.display="none";
				oMsoBigBox.style.display="block";
			}		
			oMsoLock.onclick=function ()
			{	
				if(window.localStorage.getItem("msoLock")=="lock")
				{
					oMsoLock.src="imgs/msoNotLocked.png";
					window.localStorage.setItem('msoLock','notLock');
					oMsoBigBoxLine1.style.display="block";					
				}
				else if (window.localStorage.getItem("msoLock")=="notLock")
				{
					oMsoLock.src="imgs/msoLocked.png";
					window.localStorage.setItem('msoLock','lock');
					oMsoBigBoxLine1.style.display="none";
				}
			}
			$('#logoLeft').click(function(){
				window.localStorage.setItem('msoLock','notLock');
				oMsoLock.src="imgs/msoNotLocked.png";
				oMsoBigBoxLine1.style.display="none";
		        $(".scBigBox").animate({
		            height:0,
		        },500,function(){
		            $(".scBigBox").css({"display":"none",height:0});
		        });
				if (oMsoBigBox.style.display=="block")
				{
					$("#msoBigBox").fadeOut(300);
				}
				else
				{
					$("#msoBigBox").fadeIn(300);
				}
			})
			//logo点击
			var oMsoLogo=document.getElementById("msoLogo");
			oMsoLogo.onclick=function()
			{
				oMoulemSearchBox.style.display="none";
				oMoulemSearch.src="";
				$("#moulemBody")[0].style.overflow="visible";
				if(window.localStorage.getItem("msoLock")!="lock")
				{
					oMsoBigBoxLine1.style.display="block";					
				}
			}
			//enter                
                var oMsoSearchCheck = document.getElementById("msoSearchCheck");
                        oMsoSearchCheck.addEventListener("submit",function(event) {
							var aText=$('.msoBtnBoxNowA')[0].innerText;
							var aLink=$('.msoBtnBoxNowA')[0].dataset.link.replace("moulem",oMsoInput.value.replace(/%/g, "%25").replace(/#/g, "%23").replace(/\+/g, "%2B").replace(/\&/g, "%26"));
							

							if (aText.search(/\./g)!=-1 || aLink.search(/https/g)==-1)
							{
								window.open($('.msoBtnBoxNowA')[0].dataset.link.replace("moulem",oMsoInput.value.replace(/%/g, "%25").replace(/#/g, "%23").replace(/\+/g, "%2B").replace(/\&/g, "%26")));								
							}
							else
							{
								window.scrollTo(0,0);
								$("#moulemBody")[0].style.overflow="hidden";
								oMoulemSearchBox.style.display="block";					
								oMsoBigBoxLine1.style.display="none";
								$('.msoBtnBoxNowA')[0].href="javascript:void(0)";
								oMoulemSearch.src=$('.msoBtnBoxNowA')[0].dataset.link.replace("moulem",oMsoInput.value.replace(/%/g, "%25").replace(/#/g, "%23").replace(/\+/g, "%2B").replace(/\&/g, "%26"));
							}
                                event.preventDefault()
                                return false;
                        });
			//点击msoInput隐藏type选择框
            oMsoInput.onclick=function (ev)
            {
            	oMsoChangeBox.style.display="none";
                oMsoChangeBox.innerHTML=""; 
                var oEvent=ev || event;
                oEvent.cancelBubble=true;

				if(oMsoInput.value.length == 0 && oMoulemSearchBox.style.display != "block")
				{
					oMsoInput.value=$("#search").val();
				}
            }
    /*-----------------获取关键词js---------------------*/
    var oMsoInputClass=$(".msoInputClass");
    oMsoInputClass.keyup(function(event){    	
        if(oMsoInputClass.val()==""||oMsoInputClass.val()==" "){
            return;
        }
        if(event.which!=39&&event.which!=40&&event.which!=37&&event.which!=38&&event.which!=13)
        $.ajax({
            url:"//sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",
            type:"GET",
            dataType:"jsonp",
            jsonp: 'jsoncallback',
            async: false,
            timeout: 5000,//请求超时
            data:{
                "wd":oMsoInputClass.val(),
                "cb":"msokeydata"
            },
            success: function (json) {
            },
            error: function (xhr) {
                return;
            }
        });
    });

//打印关键词
function msokeydata(keys){
        var len=keys.s.length;
        var keywordbox=$(".msoKeyWord");//关键词盒子
        var textb=$(".msoInputClass");

        var subb=$("#search_bg #button_bg form .subb");

        if(len==0){
            keywordbox.css({display:"none"});
        }else{
            keywordbox.css({display:"block"});
        }
        var spans="";
        for(var i=0;i<len;i++)
        {
            spans+="<span>"+keys.s[i]+"</span>"
        }
        keywordbox.html(spans);//把关键词写入关键词盒子
        keywordbox.animate({
            height:(keywordbox.children().height()+1)*len//关键词下滑效果
        },100);
        //点击候选词汇
        keywordbox.children().click(function(){
            textb.val($(this).html());//选中词汇放入输入框
            keywordbox.animate({
                height:0//关键盒子收缩效果
            },10,function(){
                keywordbox.css({display:"none",height:"auto"});
                keywordbox.empty();//清空盒子内容
            });

            textb.focus();//输入框获取焦点*/
            /*------var oSearchText=document.getElementById('search') 
            if (textb[0].value) {
                window.open(textb[0].name+oSearchText.value.replace(/%/g, "%25").replace(/#/g, "%23").replace(/\+/g, "%2B"))
            }//提交搜索*/
        });
        keywordbox.children().mousedown(
	        function(ev)
	        {
	            textb.val($(this).html());//选中词汇放入输入框

	            keywordbox.animate({
	                height:0//关键盒子收缩效果
	            },10,function(){
	                keywordbox.css({display:"none",height:"auto"});
	                keywordbox.empty();//清空盒子内容
	            });
	            textb.focus();//输入框获取焦点*/
	        	var oEvent=ev||event;
	        	if (oEvent.button == 1||oEvent.button == 2)
	        	{
		        	var oSearchText=document.getElementById('search') 
		            if (textb[0].value) {
								var aText=$('.msoBtnBoxNowA')[0].innerText;
								var aLink=$('.msoBtnBoxNowA')[0].dataset.link.replace("moulem",oMsoInput.value.replace(/%/g, "%25").replace(/#/g, "%23").replace(/\+/g, "%2B").replace(/\&/g, "%26"));
								

								if (aText.search(/\./g)!=-1 || aLink.search(/https/g)==-1)
								{
									window.open($('.msoBtnBoxNowA')[0].dataset.link.replace("moulem",oMsoInput.value.replace(/%/g, "%25").replace(/#/g, "%23").replace(/\+/g, "%2B").replace(/\&/g, "%26")));								
								}
								else
								{
									window.scrollTo(0,0);
									$("#moulemBody")[0].style.overflow="hidden";
									oMoulemSearchBox.style.display="block";																											
									oMsoBigBoxLine1.style.display="none";
									$('.msoBtnBoxNowA')[0].href="javascript:void(0)";
									oMoulemSearch.src=$('.msoBtnBoxNowA')[0].dataset.link.replace("moulem",oMsoInput.value.replace(/%/g, "%25").replace(/#/g, "%23").replace(/\+/g, "%2B").replace(/\&/g, "%26"));
								}
	                                event.preventDefault()
	                                return false;
		            }//提交搜索
	        	}
	        }
        );
        var numspan=0;//用来指定选择候选词（通过方向键改变）
        textb.keydown(function(event){//如果使用回车提交时，关键词盒子也可以自动收缩
            if(event.which==13){
                keywordbox.animate({
                height:0//关键盒子收缩效果
                },10,function(){
                    keywordbox.css({display:"none",height:"auto"});
                    keywordbox.empty();//清空盒子内容
                });
                /*$("#search_bg #button_bg form").submit(function(){
                    return false;//阻止提交
                });*/
                /*$("#search_bg #button_bg form").submit(function(e){
                    e.preventDefault();//阻止提交方法2
                });*/
            }
            //按下下方向键
            if(event.which==40){
                if(numspan==len)
                    numspan=0;
                for(var i=0;i<len;i++){
                    if(numspan==i){
                        keywordbox.children().eq(i).css({
                            "background-color":"#f1f1f1"
                        });
                    }else{
                        keywordbox.children().eq(i).css({
                            "background-color":"rgba(255,255,255,0.3)"
                        });
                    }
                }
                textb.val(keywordbox.children().eq(numspan).html());
                numspan++;
            }
            //按下上方向键
            if(event.which==38){

                numspan--;
                if(numspan==len)
                    numspan=0;
                for(var i=0;i<len;i++){
                    if(numspan==i){
                        keywordbox.children().eq(i).css({
                            "background-color":"#f1f1f1"
                        });
                    }else{
                        keywordbox.children().eq(i).css({
                            "background-color":"rgba(255,255,255,0.3)"
                        });
                    }
                }
                textb.val(keywordbox.children().eq(numspan).html());
            }
        });
        keywordbox.children().mouseover(function(){
            numspan=$(this).index();
            for(var i=0;i<len;i++){
                    if(numspan==i){
                        keywordbox.children().eq(i).css({
                            "background-color":"#f1f1f1"
                        });
                    }else{
                        keywordbox.children().eq(i).css({
                            "background-color":"rgba(255,255,255,0.3)"
                        });
                    }
                }
        });
/*点击bg关闭关键词盒子*/            
            var oBg=document.getElementsByTagName('body')[0];
            oBg.onclick=function (){             	
                keywordbox.animate({
                    height:0//关键盒子收缩效果
                },10,function(){
                    keywordbox.css({display:"none",height:"auto"});
                    keywordbox.empty();//清空盒子内容
                });
            }
}
console.log("欢迎造访，期待结识可爱的你！")